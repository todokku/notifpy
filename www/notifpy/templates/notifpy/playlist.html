{% extends 'notifpy/base.html' %}
{% load static from staticfiles %}

{% block body %}
    <h1>{{playlist.title}}</h1>
    <div class="command-panel">
        <a class="command__button" href="{% url 'edit_playlist' slug=playlist.slug %}">Edit</a>
        <a class="command__button" href="{% url 'delete_playlist' slug=playlist.slug %}">Delete</a>
        <a href="{{playlist.url_ranked}}"><img class="playlist__icon" src="{% static 'notifpy/play.svg' %}" /></a>
        <a href="{{playlist.url_shuffled}}"><img class="playlist__icon" src="{% static 'notifpy/random.svg' %}" /></a>
    </div>
    <br>
    <div class="gallery--list">
        {% if playlist.videos.all %}
            {% for video in playlist.videos.all %}
            <div class="video">
                <a href="https://www.youtube.com/watch?v={{ video.id }}">
                    <img class="video__thumbnail" src="{{ video.thumbnail }}" width=160 height=90 />
                </a>
                <div class="video__info">
                    <p class="video__title">
                        <a href="https://www.youtube.com/watch?v={{ video.id }}">{{ video.title | safe }}</a>
                    </p>
                    <p class="video__description">
                        <a href="{% url 'channel' slug=video.channel.slug %}">{{ video.channel.title | safe }}</a>
                        &middot;
                        {{ video.time }}
                    </p>
                </div>
            </div>
            {% endfor %}
        {% else %}
            <p>No video in this playlist.</p>
        {% endif %}
    </div>
{% endblock %}
